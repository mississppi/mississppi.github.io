---
title: "変数を読みやすくする"
slug: "readable-variables"
tags: ["変数", "スコープ", "第9章"]
source: "リーダブルコード 第9章"
order: 9
---

変数はコードの読みやすさ・理解のしやすさに大きな影響を与えます。  
この章では、**不要な変数を減らし、必要な変数をより明確に扱う技術**が紹介されています。

---

## 変数を削除する

一時的な変数が**まったく意味を持たない**場合、それは削除の対象です。

```js
// ❌ 無意味な一時変数
const result = getUserName();
const name = result;
console.log(name);

// ✅ 直接使えばよい
console.log(getUserName());
```

---

## 中間結果を削除する

一度しか使わない中間結果を変数に保持するのは、**かえって読みにくくなることがあります**。

```js
// ❌ 中間結果に名前をつけるほどでもない
const temp = a + b;
return temp * 2;

// ✅ そのまま書いたほうがわかりやすい
return (a + b) * 2;
```

---

## 制御フロー変数を削除する

フラグのように制御の流れを表す変数は、**ロジックを複雑にしやすい**です。  
分岐を直接使ったほうが読みやすいことが多いです。

```js
// ❌ 制御フロー変数の例
let found = false;
for (const item of list) {
  if (item === target) {
    found = true;
    break;
  }
}
if (found) { ... }

// ✅ 単純な条件にする
if (list.includes(target)) { ... }
```

---

## 変数のスコープを縮める

変数が見える範囲（スコープ）は**できるだけ小さく**するべきです。  
- スコープが広いと、どこで使われているか追うのが大変になる
- 名前の衝突や誤解も起きやすくなる

```js
// ❌ 不必要にスコープが広い
let result;
if (condition) {
  result = compute();
}

// ✅ 必要な場所で定義する
if (condition) {
  const result = compute();
}
```

### メンバ変数は「ミニグローバル」

クラスのメンバ変数は、**クラス全体から参照される＝スコープが非常に広い**ということ。  
- 本当に必要か見直そう
- メソッドを `static` にできないか検討しよう

### 大きなクラスを小さなクラスに分割する

責任を限定することで、**変数の意味と役割が明確になる**

### クロージャも有効

関数の中に関数を作ることで、変数のスコープを**より小さく閉じ込める**ことができる。

---

## 定義の位置を下げる

昔の C 言語などでは「変数は最初に宣言」とされていましたが、  
現在では **使う直前に定義する**のが可読性の観点でもベストです。

```js
// ❌ 無駄に最初に宣言
let count;
...
count = items.length;

// ✅ 必要な時点で宣言
const count = items.length;
```

---

## 一度だけ書き込む変数を使う

変数への**再代入が多いと追いにくくなる**ため、原則として**「一度だけ代入される変数」が望ましい**です。  
そのほうが、「この値がどこで決まったか」が明確になります。

`const`（再代入不可）を使うことで、**意図を明示できる**のも利点です。

---

## まとめ

- 無意味な一時変数や中間結果は削除する
- 制御フロー変数は分岐や関数で代替する
- スコープは可能な限り小さく。メンバ変数を減らし、クロージャや静的メソッドも活用
- 変数は「使う直前」で宣言し、再代入のない `const` を基本に
